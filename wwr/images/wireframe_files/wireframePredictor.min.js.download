class ContextAwareWireframePredictor{constructor(){this.elements=[{name:"Box",minWidth:50,maxWidth:1/0,minHeight:50,maxHeight:1/0,aspectRatio:1},{name:"Text",minWidth:50,maxWidth:1/0,minHeight:20,maxHeight:1/0,aspectRatio:2},{name:"Image",minWidth:100,maxWidth:1/0,minHeight:100,maxHeight:1/0,aspectRatio:2},{name:"Icon",minWidth:10,maxWidth:100,minHeight:10,maxHeight:100,aspectRatio:1},{name:"Button",minWidth:50,maxWidth:200,minHeight:30,maxHeight:120,aspectRatio:4},{name:"Text-Input",minWidth:150,maxWidth:500,minHeight:30,maxHeight:50,aspectRatio:6},{name:"Dropdown",minWidth:100,maxWidth:250,minHeight:30,maxHeight:50,aspectRatio:4}],this.sections=[{name:"Navbar",minWidth:.9,maxWidth:1,minHeight:.05,maxHeight:.2,yPosition:0,yTolerance:.05,sequence:1,keywords:["navigation","menu","links","top bar","main menu","site navigation","header menu","nav","primary menu","global navigation","top navigation","menu bar","navigation bar","site header","main navigation"],topOnly:!0},{name:"Header",minWidth:.9,maxWidth:1,minHeight:.1,maxHeight:.3,yPosition:0,yTolerance:.05,sequence:2,keywords:["header","top section","banner","page title","hero header","site header","main header","page header","header section","title area","intro section","headline","opening","lead section","top banner"],topOnly:!0},{name:"Hero",minWidth:.8,maxWidth:1,minHeight:.1,maxHeight:.7,yPosition:.05,yTolerance:.04,sequence:2,keywords:["hero","main banner","featured content","headline","call to action","hero image","hero banner","jumbotron","above the fold","hero area","main feature","splash","hero content","hero headline","hero text","hero cta","hero section"]},{name:"Sidebar",minWidth:.1,maxWidth:.3,minHeight:.5,maxHeight:1,xPosition:0,xTolerance:.05,sequence:4,keywords:["side menu","additional navigation","quick links","widget area","sidebar navigation","side panel","side column","secondary menu","aside","complementary content","side content","sidebar widgets","right rail","left rail","side bar"]},{name:"Content",minWidth:.6,maxWidth:1,minHeight:.2,maxHeight:.8,yPosition:.4,yTolerance:.2,sequence:5,keywords:["main content","article","text body","information","page content","main text","body copy","content area","main section","primary content","article body","page body","main information","core content","central content","main text content"]},{name:"FAQ",minWidth:.7,maxWidth:1,minHeight:.2,maxHeight:.6,yPosition:.7,yTolerance:.2,sequence:7,keywords:["frequently asked questions","help","support","information","faq","question and answer","common questions","help section","support faq","faq list","answers","q&a section","faq accordion","knowledge base","help center","question section","information faq"]},{name:"Features",minWidth:.8,maxWidth:1,minHeight:.2,maxHeight:.6,yPosition:.5,yTolerance:.2,sequence:6,keywords:["features","grid layout","product highlights","service overview","feature list","key features","product features","feature comparison","feature showcase","benefit grid","feature matrix","service features","feature overview","product benefits","feature presentation"]},{name:"Call-to-Action",minWidth:.5,maxWidth:1,minHeight:.1,maxHeight:.3,yPosition:.8,yTolerance:.1,sequence:7,keywords:["cta","button","sign up","get started","learn more","call-to-action","action button","conversion point","signup button","action area","primary action","main cta","cta section","action prompt","conversion element","call out","action request"]},{name:"Footer",minWidth:.9,maxWidth:1,minHeight:.05,maxHeight:.2,yPosition:1,yTolerance:.1,sequence:8,keywords:["bottom section","copyright","site map","contact info","footer navigation","footer menu","bottom bar","page footer","footer links","footer content","site footer","footer area","lower section","bottom footer","footer information","footer widgets"],bottomOnly:!0},{name:"Blog-Post-List",minWidth:.6,maxWidth:1,minHeight:.3,maxHeight:.8,yPosition:.3,yTolerance:.2,sequence:5,keywords:["blog","articles","post list","news feed","updates","blog roll","post grid","article list","blog posts","content feed","recent posts","blog archive","post summaries","article previews","blog index","blog entries","post excerpts"]},{name:"Testimonials",minWidth:.7,maxWidth:1,minHeight:.2,maxHeight:.5,yPosition:.6,yTolerance:.2,sequence:6,keywords:["customer reviews","feedback","quotes","social proof","testimonial slider","client testimonials","user reviews","success stories","customer feedback","review carousel","testimonial showcase","customer quotes","client feedback","user testimonials","praise","endorsements"]},{name:"Product-Showcase",minWidth:.8,maxWidth:1,minHeight:.3,maxHeight:.7,yPosition:.4,yTolerance:.2,sequence:5,keywords:["product display","catalog","featured items","showcase","product gallery","product carousel","featured products","product highlights","product grid","item showcase","product slider","merchandise display","product catalog","featured merchandise","product presentation"]},{name:"Contact-Form",minWidth:.5,maxWidth:.8,minHeight:.3,maxHeight:.6,yPosition:.6,yTolerance:.2,sequence:7,keywords:["get in touch","contact us","inquiry form","message","contact page","feedback form","contact information","reach out","contact details","send message","email form","contact section","support form","get in contact","contact form","inquiry"]},{name:"Newsletter-Signup",minWidth:.5,maxWidth:1,minHeight:.1,maxHeight:.3,yPosition:.9,yTolerance:.1,sequence:7,keywords:["subscribe","email signup","stay updated","mailing list","newsletter","email list","subscription form","sign up form","email updates","join our newsletter","subscribe to updates","newsletter registration","email subscription","opt-in","signup box","newsletter box"]},{name:"Gallery",minWidth:.8,maxWidth:1,minHeight:.3,maxHeight:.8,yPosition:.5,yTolerance:.2,sequence:6,keywords:["photo gallery","portfolio","image showcase","visual content","image slider","photo showcase","image carousel","picture gallery","image grid","photo album","image collection","visual gallery","image portfolio","photo display","image rotation","image slideshow"]},{name:"Video",minWidth:.7,maxWidth:1,minHeight:.3,maxHeight:.6,yPosition:.4,yTolerance:.2,sequence:5,keywords:["video player","multimedia","video content","watch","video gallery","video showcase","media player","video embed","video presentation","featured video","video area","video display","video highlight","media section","video reel","video feature"]},{name:"Pricing",minWidth:.7,maxWidth:1,minHeight:.3,maxHeight:.7,yPosition:.5,yTolerance:.2,sequence:6,keywords:["pricing plans","subscription options","product tiers","cost comparison","price list","pricing options","pricing grid","pricing chart","subscription tiers","price comparison","pricing packages","plan comparison","pricing information","subscription plans","cost breakdown","price table"]},{name:"Team-Members",minWidth:.7,maxWidth:1,minHeight:.2,maxHeight:.5,yPosition:.6,yTolerance:.2,sequence:6,keywords:["about us","our team","staff","employees","leadership","team profiles","meet the team","team bios","company team","team members","staff directory","employee profiles","team section","who we are","our people","team showcase","personnel"]},{name:"Social-Media-Feed",minWidth:.3,maxWidth:.5,minHeight:.3,maxHeight:.8,yPosition:.5,yTolerance:.3,sequence:6,keywords:["social updates","twitter feed","instagram posts","social media integration","social stream","social wall","social media widget","social feed","social media updates","live social feed","social media stream","social content","social showcase","social media display","social posts","social media embed"]},{name:"Search-Bar",minWidth:.3,maxWidth:.7,minHeight:.05,maxHeight:.1,yPosition:.05,yTolerance:.05,sequence:2,keywords:["search","find","lookup","site search","search box","search field","search input","search function","search tool","find content","search feature","search area","site lookup","content search","search form","search bar"]},{name:"Social-Proof",minWidth:.6,maxWidth:1,minHeight:.2,maxHeight:.5,yPosition:.5,yTolerance:.2,sequence:6,keywords:["social proof","trust indicators","customer logos","client list","as seen on","featured in","trusted by","brand logos","partner showcase","client testimonials","customer trust","social validation","brand trust","credibility indicators","trust badges","social credibility"]}],this.sectionRelationships={Navbar:["Header","Hero","Search-Bar"],Header:["Navbar","Hero","Search-Bar"],Hero:["Navbar","Header","Features","Call-to-Action"],Sidebar:["Content","Blog-Post-List"],Content:["Sidebar","Features","Testimonials","FAQ"],Features:["Content","Call-to-Action","Product-Showcase"],"Call-to-Action":["Hero","Features","Newsletter-Signup"],Footer:["Newsletter-Signup","Contact-Form"],"Blog-Post-List":["Sidebar","Content"],Testimonials:["Content","Features"],"Product-Showcase":["Features","Call-to-Action"],FAQ:["Content","Contact-Form"],"Contact-Form":["FAQ","Footer"],"Newsletter-Signup":["Call-to-Action","Footer"],Gallery:["Content","Product-Showcase"],"Video-Section":["Content","Features"],Pricing:["Features","Call-to-Action"],"Team-Members":["Content","Testimonials"],"Social-Media-Feed":["Sidebar","Footer"],"Search-Bar":["Navbar","Header"],"Social-Proof":["Content","Features","Testimonials","Product-Showcase","FAQ","Newsletter-Signup","Gallery","Video-Section","Pricing","Social-Media-Feed"]},this.screenSize={width:1920,height:1080},this.confidenceThreshold=.1,this.existingElements=[],this.existingSections=[]}setScreenSize(e,t){e&&(this.screenSize.width=e),t&&(this.screenSize.height=t)}addExistingElement(e,t,i,a,n){(Array.isArray(e)?e:[e]).forEach(e=>{this.existingElements.push({...e,x:t,y:i,width:a,height:n})})}addExistingSection(e,t){this.existingSections.push({name:e,y:t}),this.existingSections.sort((e,t)=>e.y-t.y);e=document.querySelector(".page.active");e&&(e.dataset.sections=JSON.stringify(this.existingSections))}readExistingSectionsFromHtml(){var e=document.querySelector(".page.active").dataset.sections;this.existingSections=e?JSON.parse(e):[]}predict(e,t,i,a){var n=this.predictSections(e,t,i,a),e=this.predictElements(e,t,i,a);return{sections:n,elements:e}}predictSections(e,t,i,a,n,o,s=0){const r=e/this.screenSize.width,c=t/this.screenSize.height,h=i/this.screenSize.width,m=a/this.screenSize.height;return this.sections.filter(t=>!this.existingSections.some(e=>e.name===t.name)).map(e=>{let t=0;if(r>=e.minWidth&&r<=e.maxWidth&&c>=e.minHeight&&c<=e.maxHeight){if(e.topOnly&&.5<m)return 0;if(e.bottomOnly&&m<.5)return 0;var i;t=.1,"yPosition"in e&&(i=Math.abs(m-e.yPosition),t+=i<=e.yTolerance?.2*(1-i/e.yTolerance):0),"xPosition"in e&&(i=Math.abs(h-e.xPosition),t+=i<=e.xTolerance?.2*(1-i/e.xTolerance):0),t=(t=(t+=.4*this.getContextConfidence(e,m))+.3*this.getPageRelevanceConfidence(e,n,o))+.2*this.getRelationshipConfidence(e.name),t=Math.min(1,t)}return{name:e.name,confidence:t}}).filter(e=>e.confidence>this.confidenceThreshold).sort((e,t)=>t.confidence-e.confidence)}getPageRelevanceConfidence(e,t,i){const a=(t+" "+i).toLowerCase();t=e.keywords||[e.name.toLowerCase()];return t.reduce((e,t)=>{var t=t.toLowerCase().split(" "),i=t.filter(e=>a.includes(e));return 0<i.length?e+i.length/t.length:e},0)/t.length}getRelationshipConfidence(e){if(!this.sectionRelationships[e])return 0;const t=this.sectionRelationships[e];e=this.existingSections.filter(e=>t.includes(e.name));return 0===e.length?0:e.length/t.length}getContextConfidence(e,t){var i,a;return 0===this.existingSections.length?t<.5&&.5<e.yPosition||.5<t&&e.yPosition<.5?0:1-e.sequence/this.sections.length:(a=(i=this.existingSections[this.existingSections.length-1]).sequence+1,e.sequence<a?0:e.sequence===a?1:(e=t-i.y/this.screenSize.height)<0?0:Math.max(0,1-2*e))}predictElements(t,i,a,n){var e=this.elements.map(e=>({name:e.name,score:this.calculateScore(e,t,i,a,n),confidence:0}));const o=e.reduce((e,t)=>e+Math.max(0,t.score),0);return e.forEach(e=>{e.confidence=0<o?Math.max(0,e.score)/o:0}),e.sort((e,t)=>t.confidence-e.confidence),e.filter(e=>e.confidence>=this.confidenceThreshold)}calculateScore(e,t,i,a,n){var o=+this.calculateDimensionScore(e,t,i),s=+this.calculateAspectRatioScore(e,t,i),r=+this.positionScore(e,a,n,t,i),e=+this.contextScore(e,a,n,t,i);return Math.max(0,o+s+r+e)}calculateDimensionScore(e,t,i){var a=this.calculateSingleDimensionScore(t,e.minWidth,e.maxWidth),n=this.calculateSingleDimensionScore(i,e.minHeight,e.maxHeight);let o=0,s=0;return"Dropdown"!==e.name&&"Text-Input"!==e.name&&"Button"!==e.name||(o=t>e.maxWidth?Math.min(10,(t-e.maxWidth)/10):0,s=i>e.maxHeight?Math.min(10,(i-e.maxHeight)/5):0),(a+n)/2-((o="Text"===e.name?t<e.minWidth?Math.min(10,(e.minWidth-t)/5):0:o)+s)}calculateSingleDimensionScore(e,t,i){return t<=e&&e<=i?10:10-Math.min(10,Math.abs(e-(t+i)/2)/10)}calculateAspectRatioScore(e,t,i){t/=i;return"Icon"===e.name&&.25<Math.abs(t-e.aspectRatio)?0:10-Math.min(10,5*Math.abs(t-e.aspectRatio))}positionScore(e,t,i,a,n){var o=a/this.screenSize.width,s=n/this.screenSize.height,r=a/n,n=this.screenSize.width/2,c=Math.abs(t+a/2-n),h=.05*this.screenSize.width;let m=0;switch(e.name){case"Box":m=m+5+(.3<o&&.3<s?5:0);break;case"Text":m+=2;break;case"Image":m=(m+=5)+(.2<o&&.2<s?5:0)+(c<=h?5:0);break;case"Navigation Bar":m=m+(i<.1*this.screenSize.height&&.5<o?15:0)+(.9<o?5:0);break;case"Button":m=(m+=10)+(i>.7*this.screenSize.height?5:0)+(.1<o&&o<.3?2:0);break;case"Dropdown":m=(m+=t<.3*this.screenSize.width?3:0)+(i<.2*this.screenSize.height?2:0);break;case"Card":m=m+(o<.3&&s<.6?5:0)+(.7<=r&&r<=1?3:0);break;case"Text-Input":m+=.3<o&&t<.5*this.screenSize.width?3:0}return m}contextScore(e,t,i,a,n){let o=0;var s={x:t+a/2,y:i+n/2};for(const h of this.existingElements){var r={x:h.x+h.width/2,y:h.y+h.height/2},c=Math.hypot(s.x-r.x,s.y-r.y);o=(o=(o=(o=(o+=this.calculateGroupingScore(e,h,c))+this.calculatePositioningScore(e,h,s,r))+this.calculateAlignmentScore(s,r))+this.calculateOverlapPenalty(e,h,t,i,a,n))+this.calculateConsistencyBonus(e,h,s,r,a,n)}return o}calculateGroupingScore(e,t,i){var a="Box"===e.name||"Text"===e.name||"Image"===e.name?2:1;return e.name===t.name&&i<100?5*a:0}calculatePositioningScore(e,t,i,a){let n=0;var o=Math.abs(i.y-a.y),s=Math.abs(i.x-a.x);switch(e.name){case"Box":Math.hypot(i.x-a.x,i.y-a.y)<200&&(n+=5);break;case"Text":Math.hypot(i.x-a.x,i.y-a.y)<150&&(n+=5);break;case"Image":"Text"===t.name&&o<100&&(n+=5);break;case"Button":"Text-Input"===t.name&&o<50&&i.x>a.x&&(n+=10),"Image"===t.name&&Math.hypot(i.x-a.x,i.y-a.y)<150&&(n+=5);break;case"Checkbox":case"Text-Input":"Text"===t.name&&o<30&&s<200&&(n+=8),"Button"===t.name&&Math.hypot(i.x-a.x,i.y-a.y)<100&&(n+=5);break;case"Dropdown":"Text"===t.name&&o<30&&s<150&&(n+=8),"Text-Input"===t.name&&Math.hypot(i.x-a.x,i.y-a.y)<100&&(n+=5)}return n}calculateAlignmentScore(e,t){let i=0;return Math.abs(e.x-t.x)<10&&(i+=3),Math.abs(e.y-t.y)<10&&(i+=3),i}calculateOverlapPenalty(e,t,i,a,n,o){return"Box"!==e.name&&"Box"!==t.name&&0<(e=Math.max(0,Math.min(i+n,t.x+t.width)-Math.max(i,t.x))*Math.max(0,Math.min(a+o,t.y+t.height)-Math.max(a,t.y)))?-e/(n*o)*20:0}calculateConsistencyBonus(e,t,i,a,n,o){return Math.abs(n-t.width)<10&&Math.abs(o-t.height)<10?(Math.abs(i.y-a.y)<10?2:0)+(Math.abs(i.x-a.x)<10?2:0):0}}const predictor=new ContextAwareWireframePredictor;document.addEventListener("DOMContentLoaded",function(){predictor.setScreenSize(activepage[0].clientWidth,activepage[0].clientHeight)});